pipeline {
    agent {
        label 'AGENT-1'
    }

    stages {
        stage('Build') {
            steps {
                echo 'Building...'
                // Add build steps here
            }
        }
        stage('Test') {
            steps {
                echo 'Testing...'
                // Add test steps here
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying...'
                // Add deploy steps here
            }
        }
    }
}

pipeline {
    agent any

    parameters {
        string(name: 'ENV', defaultValue: 'dev', description: 'Environment to deploy to')
        booleanParam(name: 'RUN_TESTS', defaultValue: true, description: 'Whether to run tests')
        text(name: 'NOTES', defaultValue: '', description: 'Additional notes for this build')
        password(name: 'SECRET_KEY', defaultValue: '', description: 'Secret key for deployment')
        choice(name: 'VERSION', choices: ['1.0', '1.1', '2.0'], description: 'Select the version to deploy')
        number(name: 'RETRY_COUNT', defaultValue: 3, description: 'Number of retry attempts')
        conditionalParam(name: 'SHOULD_NOTIFY', defaultValue: false, description: 'Notify team on completion', condition: { return params.RUN_TESTS } )
        ifile(name: 'CONFIG_FILE', description: 'Upload configuration file')
        keyboard(name: 'API_KEY', description: 'API Key for external services') 
        label(name: 'DEPLOY_LABEL', defaultValue: 'stable', description: 'Label for deployment')
        word(name: 'BUILD_TAG', defaultValue: 'build-001', description: 'Tag for the build')
        matrix(name: 'MATRIX_PARAM', axes: [axis(name: 'OS', values: ['Linux', 'Windows']), axis(name: 'BROWSER', values: ['Chrome', 'Firefox'])], description: 'Matrix parameter for OS and Browser')  
        defaultValue(name: 'CUSTOM_PARAM', defaultValue: 'default', description: 'Custom parameter with default value')
    }
    triggers {
        cron('H 4/* 0 0 1-5')
        pollSCM('H/15 * * * *')
        githubPush()
        bitbucketPush()
        genericTrigger(
            genericVariables: [
                [key: 'ref', value: '$.ref'],
                [key: 'repository', value: '$.repository.full_name']
            ],
            causeString: 'Triggered on $ref of $repository',
            token: 'my-generic-token',
            printContributedVariables: true,
            printPostContent: true,
            silentResponse: false
        )
        triggers {
            upstream(upstreamProjects: 'Upstream_Project_Name', threshold: hudson.model.Result.SUCCESS)
        }
        triggers {
            timer {
                spec('H/10 * * * *')
            }
        }
        input {
            message('Please provide input to proceed with the build.')
            ok('Proceed')
            parameters {
                string(name: 'REASON', defaultValue: '', description: 'Reason for proceeding')
            }
        }
    }
    triggers {
        githubPush()
    }
    stages {
        stage('sample') {
            steps {
                echo 'Hello, It is a sample Jenkinsfile'
            }
        }
        stage('Build') {
            steps {
                echo 'Building...'
                // Add build steps here
                scripyt {
                    // Example of a script block
                    def buildStatus = 'SUCCESS'
                    echo "Build status is: ${buildStatus}"
                }
                options {
                    timeout(time: 30, unit: 'MINUTES')
            }
            matrix {
                axes {
                    axis {
                        name 'OS'
                        values 'Linux', 'Windows'
                    }
                    axis {
                        name 'BROWSER'
                        values 'Chrome', 'Firefox'
                    }
                }
                stages {
                    stage('Test') {
                        steps {
                            echo "Testing on ${OS} with ${BROWSER}"
                            // Add test steps here
                        }
                    }
                }
            }
        }
    }
    post {
        always {
            echo 'This will always run after the stages.'
            deleteDir()
        }
        success {
            echo 'This will run only if the pipeline succeeds.'
        }
        failure {
            echo 'This will run only if the pipeline fails.'
        }
    }
}
}

